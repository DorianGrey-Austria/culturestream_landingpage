"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{2457:function(e,t,n){n.r(t),n.d(t,{Globe:function(){return g}});var a=n(7437),r=n(2265),o=n(2461),l=n(6375),i=n(4112),s=n(6919),d=JSON.parse('{"R":[{"type":"Feature","properties":{"name":"Europe","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[0,35],[40,35],[40,70],[0,70],[0,35]]]}},{"type":"Feature","properties":{"name":"North America","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-130,30],[-60,30],[-60,70],[-130,70],[-130,30]]]}},{"type":"Feature","properties":{"name":"Asia","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[60,0],[140,0],[140,60],[60,60],[60,0]]]}},{"type":"Feature","properties":{"name":"Africa","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-20,-35],[50,-35],[50,35],[-20,35],[-20,-35]]]}}]}');let c={wien:{name:"Wien",lat:48.2082,lng:16.3719},kairo:{name:"Kairo",lat:30.0444,lng:31.2357},sydney:{name:"Sydney",lat:-33.8688,lng:151.2093},tokyo:{name:"Tokyo",lat:35.6762,lng:139.6503},newYork:{name:"New York",lat:40.7128,lng:-74.006},nairobi:{name:"Nairobi",lat:-1.2921,lng:36.8219},rio:{name:"Rio de Janeiro",lat:-22.9068,lng:-43.1729}},p=[{start:c.wien,end:c.newYork,color:"#ff3333"},{start:c.wien,end:c.tokyo,color:"#33ff33"},{start:c.wien,end:c.kairo,color:"#3333ff"},{start:c.wien,end:c.sydney,color:"#ff33ff"},{start:c.tokyo,end:c.sydney,color:"#ffff33"},{start:c.tokyo,end:c.newYork,color:"#33ffff"},{start:c.newYork,end:c.sydney,color:"#ff9933"},{start:c.newYork,end:c.rio,color:"#ff3366"},{start:c.kairo,end:c.sydney,color:"#9933ff"},{start:c.kairo,end:c.nairobi,color:"#ff66cc"},{start:c.nairobi,end:c.sydney,color:"#66ff99"},{start:c.nairobi,end:c.tokyo,color:"#cc99ff"},{start:c.rio,end:c.sydney,color:"#66ccff"},{start:c.rio,end:c.nairobi,color:"#ffcc66"},{start:c.rio,end:c.wien,color:"#99ff66"}],m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=e*Math.PI/180,r=t*Math.PI/180,l=n*Math.cos(a)*Math.sin(r),i=n*Math.sin(a),s=n*Math.cos(a)*Math.cos(r);return new o.Pa4(l,i,s)};function g(e){let{scale:t=1,position:n=[0,0,0],rotation:g=[0,0,0]}=e,f=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e;if(!f.current)return;let t=f.current,n=t.clientWidth,a=t.clientHeight,r=document.createElement("div");r.style.cssText="\n      position: absolute;\n      top: 50%;\n      left: 20px;\n      transform: translateY(-50%);\n      background: rgba(0, 0, 0, 0.7);\n      padding: 20px;\n      border-radius: 10px;\n      border: 1px solid rgba(255, 255, 255, 0.1);\n      z-index: 1000;\n      font-family: sans-serif;\n      min-width: 200px;\n    ";let g=document.createElement("div");g.textContent="Aktuelle Portal Verbindung",g.style.cssText="\n      color: white;\n      font-size: 18px;\n      font-weight: bold;\n      margin-bottom: 15px;\n      text-align: center;\n    ",r.appendChild(g);let u=document.createElement("div");u.style.cssText="\n      color: #00ffff;\n      margin-bottom: 20px;\n      padding: 10px;\n      background: rgba(255, 255, 255, 0.1);\n      border-radius: 5px;\n    ",u.innerHTML="<strong>Portal eins:</strong> Keine Stadt ausgew\xe4hlt",r.appendChild(u);let h=document.createElement("div");h.style.cssText="\n      color: #ffaa00;\n      padding: 10px;\n      background: rgba(255, 255, 255, 0.1);\n      border-radius: 5px;\n    ",h.innerHTML="<strong>Portal zwei:</strong> Keine Stadt ausgew\xe4hlt",r.appendChild(h),t.appendChild(r);let x=document.createElement("div");x.style.cssText="\n      position: absolute;\n      top: 50%;\n      right: 20px;\n      transform: translateY(-50%);\n      background: rgba(0, 0, 0, 0.7);\n      padding: 20px;\n      border-radius: 10px;\n      border: 1px solid rgba(255, 255, 255, 0.1);\n      z-index: 1000;\n      font-family: sans-serif;\n    ";let y=document.createElement("div");y.textContent="Portal Standorte",y.style.cssText="\n      color: white;\n      font-size: 18px;\n      font-weight: bold;\n      margin-bottom: 15px;\n      text-align: center;\n    ",x.appendChild(y),Object.entries(c).forEach(e=>{var t;let[n,a]=e,r=(null===(t=p.find(e=>e.start.name===a.name||e.end.name===a.name))||void 0===t?void 0:t.color)||"#ffffff",l=document.createElement("div");l.style.cssText="\n        display: flex;\n        align-items: center;\n        margin: 10px 0;\n        padding: 8px;\n        border-radius: 5px;\n        background: rgba(255, 255, 255, 0.1);\n        transition: all 0.3s ease;\n        cursor: pointer; produktiv\n      ";let i=document.createElement("div");i.style.cssText="\n        width: 10px;\n        height: 10px;\n        border-radius: 50%;\n        background: ".concat(r,";\n        margin-right: 10px;\n        box-shadow: 0 0 10px ").concat(r,";\n        transition: all 0.3s ease; \n      ");let s=document.createElement("div");s.textContent=a.name,s.style.cssText="\n        color: ".concat(r,";\n        font-size: 16px;\n        text-shadow: 0 0 10px ").concat(r,";\n        transition: all 0.3s ease;\n      "),l.addEventListener("click",()=>{var e;let t=(null===(e=u.textContent)||void 0===e?void 0:e.split(": ")[1])||"Keine Stadt ausgew\xe4hlt",n=a.name;n!==t&&(h.innerHTML="<strong>Portal zwei:</strong> ".concat(t),u.innerHTML="<strong>Portal eins:</strong> ".concat(n),M(n,t)),console.log("Clicking ".concat(a.name,":"),{lat:a.lat,lng:a.lng,position:m(a.lat,a.lng,100)}),T.enabled=!1;let r=m(a.lat,a.lng,100),l=v.position.clone(),i=T.target.clone(),s=r.clone().multiplyScalar(2.5),d=new o.Pa4(0,0,0),c=Date.now(),p=()=>{let e=Date.now()-c,t=Math.min(e/2e3,1),n=t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2;v.position.lerpVectors(l,s,n),T.target.lerpVectors(i,d,n),T.update(),t<1?requestAnimationFrame(p):setTimeout(()=>{T.enabled=!0},1e3)};p()}),l.addEventListener("mouseenter",()=>{l.style.background="rgba(255, 255, 255, 0.2)",i.style.transform="scale(1.2)",s.style.transform="translateX(5px)"}),l.addEventListener("mouseleave",()=>{l.style.background="rgba(255, 255, 255, 0.1)",i.style.transform="scale(1)",s.style.transform="translateX(0)"}),l.appendChild(i),l.appendChild(s),x.appendChild(l)}),t.appendChild(x);let b=document.createElement("canvas");t.appendChild(b);let w=new l.CP7({antialias:!0,alpha:!0,canvas:b});w.setSize(n,a),w.setClearColor(0,0);let k=new o.xsS,v=new o.cPb(50,n/a,.1,1e3);v.position.z=300;let E=new o.Mig(8947967,1);k.add(E);let C=new o.Ox3(16773336,1.5);C.position.set(1,1,1),k.add(C);let P=new o.Ox3(16773336,.5);P.position.set(-1,-.5,-1),k.add(P);let L=new s.Z().globeImageUrl("/images/earth-blue-marble.jpg").bumpImageUrl("/images/earth-topology.png").hexPolygonsData(d.R).hexPolygonResolution(3).hexPolygonMargin(.7).hexPolygonColor(()=>"#ffffff33").arcsData(p.map(e=>({startLat:e.start.lat,startLng:e.start.lng,endLat:e.end.lat,endLng:e.end.lng,color:e.color,stroke:.5}))).arcColor("color").arcDashLength(.3).arcDashGap(.2).arcDashInitialGap(()=>Math.random()).arcDashAnimateTime(1500).arcStroke("stroke").arcsTransitionDuration(1e3).atmosphereColor("#89cff0").atmosphereAltitude(.25),M=(e,t)=>{if(!t||"Keine Stadt ausgew\xe4hlt"===t)return;let n=()=>{let e={};return p.forEach(t=>{e[t.start.name]||(e[t.start.name]=[]),e[t.end.name]||(e[t.end.name]=[]),e[t.start.name].push(t.end.name),e[t.end.name].push(t.start.name)}),e},a=((e,t)=>{let a=n(),r=[[e]],o=new Set([e]);for(;r.length>0;){let e=r.shift(),n=e[e.length-1];if(n===t)return e;for(let t of a[n]||[])o.has(t)||(o.add(t),r.push([...e,t]))}return null})(e,t);if(!a){console.log("Kein Pfad gefunden zwischen:",e,t);return}let r=[];for(let e=0;e<a.length-1;e++)r.push([a[e],a[e+1]]);let o=p.map(e=>{let t=r.some(t=>{let[n,a]=t;return e.start.name===n&&e.end.name===a||e.start.name===a&&e.end.name===n});return{startLat:e.start.lat,startLng:e.start.lng,endLat:e.end.lat,endLng:e.end.lng,color:e.color,stroke:t?3:.5}});L.arcsData(o)};L.rotation.x=Math.PI/12,k.add(L);let T=new i.z(v,w.domElement);T.enableDamping=!0,T.dampingFactor=.05,T.rotateSpeed=.5,T.enableZoom=!0,T.minDistance=150,T.maxDistance=400,T.enablePan=!1;let z=()=>{e=requestAnimationFrame(z),T.update(),w.render(k,v)};z();let S=()=>{let e=t.clientWidth,n=t.clientHeight;v.aspect=e/n,v.updateProjectionMatrix(),w.setSize(e,n)};return window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S),cancelAnimationFrame(e),k.remove(L),w.dispose(),T.dispose(),b.parentElement&&b.parentElement.removeChild(b),x.parentElement&&x.parentElement.removeChild(x),r.parentElement&&r.parentElement.removeChild(r)}},[]),(0,a.jsx)("div",{ref:f,className:"w-full h-full relative"})}}}]);